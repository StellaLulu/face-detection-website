[{"/Users/stellachan/Documents/face-detection-web/src/App.js":"1","/Users/stellachan/Documents/face-detection-web/src/components/Signin/Signin.js":"2","/Users/stellachan/Documents/face-detection-web/src/components/Register/Register.js":"3","/Users/stellachan/Documents/face-detection-web/src/reportWebVitals.js":"4","/Users/stellachan/Documents/face-detection-web/src/components/Logo/Logo.js":"5","/Users/stellachan/Documents/face-detection-web/src/index.js":"6","/Users/stellachan/Documents/face-detection-web/src/components/FaceRecognition/FaceRecognition.js":"7","/Users/stellachan/Documents/face-detection-web/src/components/ImageLinkForm/ImageLinkForm.js":"8","/Users/stellachan/Documents/face-detection-web/src/components/Rank/Rank.js":"9","/Users/stellachan/Documents/face-detection-web/src/components/Navigation/Navigation.js":"10"},{"size":4901,"mtime":1611240925668,"results":"11","hashOfConfig":"12"},{"size":2911,"mtime":1609316984875,"results":"13","hashOfConfig":"12"},{"size":2962,"mtime":1609300077964,"results":"14","hashOfConfig":"12"},{"size":362,"mtime":1606232208288,"results":"15","hashOfConfig":"12"},{"size":497,"mtime":1606297855248,"results":"16","hashOfConfig":"12"},{"size":519,"mtime":1606296311808,"results":"17","hashOfConfig":"12"},{"size":515,"mtime":1607140214698,"results":"18","hashOfConfig":"12"},{"size":888,"mtime":1606378167938,"results":"19","hashOfConfig":"12"},{"size":288,"mtime":1609657259882,"results":"20","hashOfConfig":"12"},{"size":828,"mtime":1607348701788,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"1edpnhl",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/stellachan/Documents/face-detection-web/src/App.js",["43"],"import './App.css';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport Rank from './components/Rank/Rank';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport Particles from 'react-particles-js';\nimport React, { Component } from 'react';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\n\n\n\nconst particlesOptions = {\n  particles: {\n    number:{\n      value: 200,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  },\n  interactivity:{\n    detect_on: \"canvas\",\n    events:{\n      onhover:{\n        enable: true,\n        mode: \"repulse\"\n      },\n      onclick:{\n        enable: true,\n        mode: \"push\"\n      }\n    }\n  }\n}\n\nconst initialState = {\n  input:'',\n  imageUrl: '',\n  box: {},\n  route: 'Signin',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    entries: 0,\n    joined: ''\n  }\n}\n\nclass App extends Component{\n  constructor(){\n    super();\n    this.state = initialState\n  }\n\n  loadUser = (data) => {\n    this.setState({user:{\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n    }})\n  }\n\n  calculateFaceLocation = (data) => {\n    const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById('inputimage');\n    const width = Number(image.width);\n    const height = Number(image.height);\n    // console.log(width, height);\n    return{\n      leftCol: clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width *(1 - clarifaiFace.right_col),\n      bottomRow: height*(1-clarifaiFace.bottom_row)\n    }\n  }\n\n  // componentDidMount() {\n  //   fetch('http://localhost:3000/')\n  //     .then(response => response.json())\n  //     .then(console.log) //data => console.log(data)\n  // }\n\n  displayFaceBox = (box) => {\n    this.setState({box: box});\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n\n  onButtonSubmit = () =>{\n    this.setState({imageUrl: this.state.input});\n    // console.log('click');\n    // app.models.initModel({id: Clarifai.GENERAL_MODEL, version: \"aa7f35c01e0642fda5cf400f543e7c40\"})\n    //   .then(generalModel => {\n    //     return generalModel.predict(\"https://upload.wikimedia.org/wikipedia/commons/d/d5/Lana_Del_Rey_%40_Grammy_Museum_10_13_2019_%2849311023203%29.jpg\");\n    //   })\n    //   .then(response => {\n    //     console.log(response)\n    //     var concepts = response['outputs'][0]['data']['concepts']\n    //   })\n    fetch('http://localhost:3000/imageurl',{\n      method:'post',\n      headers:{'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        input:this.state.input\n      })\n    })\n    .then(response => response.json())\n    .then(response => {\n      if (response){\n        fetch('http://localhost:3000/image',{\n          method:'put',\n          headers:{'Content-Type': 'application/json'},\n          body: JSON.stringify({\n            id:this.state.user.id\n          })\n        })\n          .then(response => response.json())\n          .then(count => {\n            this.setState(Object.assign(this.state.user,{entries:count}))\n          })\n          .catch(console.log)\n      }\n      this.displayFaceBox(this.calculateFaceLocation(response))\n    })\n        //console.log(response.outputs[0].data.regions[0].region_info.bounding_box)\n    .catch(err => console.log(err));\n  }\n\n  onRouteChange = (route) => {\n    if (route === 'signout'){\n      this.setState(initialState)\n    } \n    else if(route === 'home'){\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route});\n  }\n\n  render(){\n    const { isSignedIn, imageUrl, route, box} = this.state;\n    return (\n      <div className=\"App\">\n        <Particles className = 'particles'\n              params={particlesOptions}\n            />\n        <Navigation isSignedIn={this.state.isSignedIn} onRouteChange={this.onRouteChange}/>\n        { route === 'home'  \n          ? \n          <div>\n              <Logo />\n              <Rank \n                name={this.state.user.name}\n                entries={this.state.user.entries}\n              />\n              <ImageLinkForm \n                onInputChange={this.onInputChange} \n                onButtonSubmit={this.onButtonSubmit}/>\n              <FaceRecognition \n                box={box}\n                imageUrl={imageUrl}/>\n            </div>\n            : (\n              route === 'Signin'\n              ? <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange}/> \n              : <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","/Users/stellachan/Documents/face-detection-web/src/components/Signin/Signin.js",[],"/Users/stellachan/Documents/face-detection-web/src/components/Register/Register.js",[],"/Users/stellachan/Documents/face-detection-web/src/reportWebVitals.js",[],"/Users/stellachan/Documents/face-detection-web/src/components/Logo/Logo.js",[],"/Users/stellachan/Documents/face-detection-web/src/index.js",[],"/Users/stellachan/Documents/face-detection-web/src/components/FaceRecognition/FaceRecognition.js",[],"/Users/stellachan/Documents/face-detection-web/src/components/ImageLinkForm/ImageLinkForm.js",[],"/Users/stellachan/Documents/face-detection-web/src/components/Rank/Rank.js",[],"/Users/stellachan/Documents/face-detection-web/src/components/Navigation/Navigation.js",[],{"ruleId":"44","severity":1,"message":"45","line":149,"column":13,"nodeType":"46","messageId":"47","endLine":149,"endColumn":23},"no-unused-vars","'isSignedIn' is assigned a value but never used.","Identifier","unusedVar"]